---
title: trace_replayTransaction | Tempo
openapi: /openapi/tempo_node_api/debug_and_trace/trace_replayTransaction.json POST /
---

Tempo API method that replays a specific transaction and returns detailed execution traces. This is useful for debugging transaction behavior with customizable trace options.

<Check>
**Get you own node endpoint today**

[Start for free](https://console.chainstack.com/) and get your app to production levels immediately. No credit card required.

You can sign up with your GitHub, X, Google, or Microsoft account.
</Check>

## Parameters

* `transactionHash` — the hash of the transaction to replay
* `traceTypes` — array of trace types to include:
  * `trace` — basic execution trace
  * `vmTrace` — full VM execution trace
  * `stateDiff` — state changes

## Response

* `result` — trace result object:
  * `output` — return data from the transaction
  * `trace` — array of trace objects (if requested)
  * `vmTrace` — VM execution trace (if requested)
  * `stateDiff` — state differences (if requested)

## `trace_replayTransaction` code examples

<CodeGroup>
```javascript ethers.js
const ethers = require('ethers');
const NODE_URL = "CHAINSTACK_NODE_URL";
const provider = new ethers.JsonRpcProvider(NODE_URL);

const replayTransaction = async (txHash) => {
    // Replay with all trace types
    const result = await provider.send("trace_replayTransaction", [
      txHash,
      ["trace", "stateDiff"]
    ]);

    console.log("Transaction Output:", result.output);
    console.log("Traces:", result.trace?.length || 0);

    if (result.trace) {
      for (const trace of result.trace) {
        const callType = trace.action.callType || trace.type;
        const to = trace.action.to || "Contract Creation";
        console.log(`  ${callType}: ${trace.action.from} -> ${to}`);
      }
    }

    if (result.stateDiff) {
      console.log("\nState changes:");
      for (const [address, diff] of Object.entries(result.stateDiff)) {
        console.log(`  ${address}:`);
        if (diff.balance) {
          console.log(`    Balance: ${diff.balance['*']?.from || 'new'} -> ${diff.balance['*']?.to || diff.balance['+']}`);
        }
      }
    }
  };

replayTransaction("0xb3e821e696897b02283b7b2d602941b1d3cb08448d3a204bab05955215fc2035");
```

```python web3.py
from web3 import Web3

node_url = "CHAINSTACK_NODE_URL"
web3 = Web3(Web3.HTTPProvider(node_url))

result = web3.provider.make_request("trace_replayTransaction", [
    "0xb3e821e696897b02283b7b2d602941b1d3cb08448d3a204bab05955215fc2035",
    ["trace", "stateDiff"]
])

trace_result = result['result']
print(f"Transaction Output: {trace_result['output']}")
print(f"Traces: {len(trace_result.get('trace', []))}")

for trace in trace_result.get('trace', []):
    call_type = trace['action'].get('callType', trace['type'])
    to = trace['action'].get('to', 'Contract Creation')
    print(f"  {call_type}: {trace['action']['from']} -> {to}")

if trace_result.get('stateDiff'):
    print("\nState changes:")
    for address, diff in trace_result['stateDiff'].items():
        print(f"  {address}")
```

```bash cURL
curl -X POST "CHAINSTACK_NODE_URL" \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "trace_replayTransaction",
    "params": ["0xb3e821e696897b02283b7b2d602941b1d3cb08448d3a204bab05955215fc2035", ["trace", "stateDiff"]],
    "id": 1
  }'
```
</CodeGroup>
